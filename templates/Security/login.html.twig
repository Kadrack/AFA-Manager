<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>{% block title %}Connexion{% endblock %}</title>

    <link rel="icon" type="image/svg" href="{{ asset('images/favicon.svg') }}" />

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootswatch/dist/minty/bootstrap.min.css" />
</head>
<body class="container-fluid">
    <main class="container-fluid text-center">
        <img class="mb-4" src="{{ asset('images/favicon.svg') }}" alt="" width="72" height="72">
        <h1 class="font-weight-normal">Identifiez-vous</h1>
        <div class="container col col-lg-6">
            {% for type, messages in app.flashes %}
                {% for message in messages %}
                    <div class="text-center alert alert-dismissible alert-{{ type }}">
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}
        </div>
        <a class="text-center text-decoration-none" href="{{ path('loginCreate') }}">Créer un accès</a>
        <form class="text-center mx-auto my-1 col col-md-2" method="post">
            {% if error %}
                <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %}
            <div class="form-floating">
                <input type="text" value="{{ last_username }}" name="_username" id="username" class="form-control" placeholder="Login" required autofocus>
                <label for="username" class="sr-only">Login</label>
            </div>
            <div class="form-floating input-group">
                <input type="password" name="_password" id="password" class="form-control" placeholder="Mot de Passe" required>
                <label for="password" class="sr-only">Mot de passe</label>
                <button class="btn btn-lg btn-primary btn-block" type="submit">Connexion</button>
            </div>
            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
        </form>
        <a class="text-center text-decoration-none" href="{{ path('loginLink') }}">Mot de passe oublié ?</a>
    </main>
    <footer class="container-fluid">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </footer>
</body>
</html>
